name: Test ext workflow
on: [push]
jobs:
  standard:
    runs-on: 'ubuntu-latest'
    container: 'ubuntu:24.04'
    steps:
    - name: "Setup PHP extension caching"
      id: extcache
      uses: shivammathur/cache-extensions@develop
      with:
        php-version: 8.2
        extensions: mongodb,redis,sqlite3,gd,bcmath
        key: php-extensions-${{ runner.os }}-foov4

    - name: "Cache extensions"
      uses: actions/cache@v4
      with:
        path: ${{ steps.extcache.outputs.dir }}
        key: ${{ steps.extcache.outputs.key }}-foov4
        restore-keys: ${{ steps.extcache.outputs.key }}-foov4

    - name: "Setup PHP"
      uses: shivammathur/setup-php@verbose
      with:
        php-version: 8.2
        extensions: mongodb,redis,sqlite3,gd,bcmath
        coverage: none
