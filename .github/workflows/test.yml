name: Runner
on:
  push:
jobs:
  runner:
    runs-on: ${{ matrix.os }}
    container: summerwind/actions-runner:ubuntu-22.04
    strategy:
      fail-fast: false
      matrix:        
        os: ['ubuntu-latest']
    steps:
jobs:
  grumphp-test-suite:
    runs-on:
        group: PHP-8.1
    strategy:
        matrix:
            php-versions: ['8.1']
            composer-options: ['']
    steps:
      - name: Init
        run: |
          LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php &&\
              apt-get update &&\
              apt-get install software-properties-common ca-certificates lsb-release apt-transport-https unzip make zstd php8.1 php-cli zlib1g-dev libbrotli-dev libcurl4-openssl-dev libevent-dev libicu-dev libidn2-dev -y &&\
              curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php &&\
              php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer &&\
              rm -rf /tmp/* &&\
              apt-get clean
      - name: Install PHP
        uses: shivammathur/setup-php@verbose
        with:
            php-version: 8.1
            extensions: xdebug, mbstring, raphf, pecl_http
