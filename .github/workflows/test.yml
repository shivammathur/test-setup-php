name: Runner
on:
  push:
jobs:
  run:
    env:
      COMPOSER_AUTH: '{"http-basic": { "example.org": { "username": "test_user", "password": "test_pass" } } }'
    runs-on: ${{ matrix.operating-system }}
    strategy:
      matrix:
        operating-system: [ubuntu-latest, windows-latest, macos-latest]
    steps:

    - name: Setup PHP
      uses: shivammathur/setup-php@develop
      with:
        php-version: 8.5
        github-token: ${{ secrets.GITHUB_TOKEN }}
      env:
        PACKAGIST_TOKEN: 'apple123'
        COMPOSER_AUTH_JSON: |
          {
            "http-basic": {
              "example.org": {
                "username": "example_user",
                "password": "example_pass"
              }
            }
          }
    - run: |
        php -v
        composer config --global --auth --list
    - run: echo $COMPOSER_AUTH
      if: ${{ matrix.operating-system != 'windows-latest' }}
    - run: echo $env:COMPOSER_AUTH
      if: ${{ matrix.operating-system == 'windows-latest' }}
