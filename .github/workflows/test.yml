name: Runner
on: [push]
env:
  HOMEBREW_DEVELOPER: 1
  HOMEBREW_GITHUB_ACTIONS: 1
  HOMEBREW_NO_AUTO_UPDATE: 1
  HOMEBREW_NO_INSTALL_FROM_API: 1
  HOMEBREW_RELOCATABLE_INSTALL_NAMES: 1
  HOMEBREW_ARM64_TESTING: 1
jobs:
  runner:
    runs-on: ${{ matrix.os }}
    container: homebrew/ubuntu22.04:latest
    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-22.04-arm]
    steps:
      - name: Pre-test steps
        uses: Homebrew/actions/pre-build@master
        with:
          bottles-directory: ${{ matrix.workdir || github.workspace }}/bottles
          cleanup: false
      - uses: mxschmitt/action-tmate@v3.22
