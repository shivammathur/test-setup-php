name: 'Test Formulae'
on: [push]
jobs:
  tests:
    strategy:
      matrix:
        os: [ubuntu-22.04]
        php-version: ['8.0', '8.1', '8.2']
    runs-on: ${{ matrix.os }}
    steps:
      - name: Install PHP with extensions
        uses: shivammathur/setup-php@v2
        with:
            php-version: ${{ matrix.php-version }}
            coverage: pcov
            tools: composer:v2

      - name: Run PHP code
        shell: php {0}
        run: |
            <?php
            error_reporting(\E_ALL);
            ob_start();
            trigger_error('User Deprecation', \E_USER_DEPRECATED);
            $ob = ob_get_contents();
            ob_end_clean();
            echo 'errors are:'.$ob;
            
