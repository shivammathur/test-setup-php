name: tests

on: [push]

jobs:
  tests:
    runs-on: ubuntu-20.04

    strategy:
      fail-fast: true

    name: Runner

    steps:
      - name: Setup PHP
        uses: shivammathur/setup-php@develop
        with:
          php-version: 8.1
          tools: composer:'2.4'
          ini-values: error_reporting=E_ALL & ~E_DEPRECATED, xdebug.mode='develop,coverage', pcov.directory=/home/runner, pcov.exclude="~(.tests|vendor)~"
      - run: php -v && php -m && tail -20 /etc/php/8.1/cli/conf.d/99-pecl.ini
