name: Runner Workflow
on:
  push:
jobs:
  run:
    runs-on: ${{ matrix.operating-system }}
    strategy:
      fail-fast: false
      matrix:
        operating-system: [windows-latest]      
        runs: [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
    steps:
      - run: |
              [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls -bor [Net.SecurityProtocolType]::Tls11 -bor [Net.SecurityProtocolType]::Tls12 -bor [Net.SecurityProtocolType]::Tls13
              $php_dir='C:\tools\php'
              $version='8.2'
              try {
                Invoke-WebRequest -UseBasicParsing -Uri https://github.com/shivammathur/php-builder-windows/releases/latest/download/Get-PhpNightly.ps1 -OutFile $php_dir\Get-PhpNightly.ps1
              } catch {
                Write-Output $_.ErrorDetails | Format-List *
              } finally {
                Write-Output $_.ErrorDetails | Format-List *
              }
              & $php_dir\Get-PhpNightly.ps1 -Architecture x64 -ThreadSafe $True -Path $php_dir -Version 8.3
