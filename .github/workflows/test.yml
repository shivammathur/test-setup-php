name: tests

on: [push]

jobs:
  tests:
    runs-on: ubuntu-latest

    strategy:
      fail-fast: true
      matrix:
        php: ['8.0', 8.1, 8.2]

    name: PHP ${{ matrix.php }}

    steps:
      - name: Setup PHP
        uses: shivammathur/setup-php@develop
        with:
          php-version: ${{ matrix.php }}
          extensions: memcache-8.2
      - name: Test
        run: |
          php -r "echo phpversion('memcache');"
          php -v
          php -m
      - uses: mxschmitt/action-tmate@v3.14    
      
