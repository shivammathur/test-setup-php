name: tests

on: [push]

jobs:
  tests:
    runs-on: ubuntu-20.04

    strategy:
      fail-fast: true

    name: Runner

    steps:
      - name: Setup PHP
        uses: shivammathur/setup-php@verbose
        with:
          php-version: 8.1
          extensions: redis, pdo, pdo_mysql, bcmath, swoole-5.0.3
          tools: phpize
          coverage: none
          ini-values: swoole.use_shortname=Off
        env:
          SWOOLE_CONFIGURE_OPTS: --enable-openssl --enable-swoole-curl --enable-cares --enable-swoole-pgsql --enable-brotli
      - run: php -v && php -m     
