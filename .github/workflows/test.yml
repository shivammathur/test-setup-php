name: Runner
on:
  push:
jobs:
  latest:
    name: latest
    runs-on: ${{ matrix.operating-system }}
    strategy:
      fail-fast: false
      matrix:
        operating-system: [windows-latest]
    steps:
      - name: Setup PHP
        uses: shivammathur/setup-php@develop
        with:
          php-version: 8.4
      - name: Test
        shell: php {0}
        env:
          OPENSSL_CONF: ''
        run: |
          <?php
          
          ob_start();
          phpinfo();
          $info = ob_get_contents();
          ob_end_clean();
          
          preg_match(",Openssl default config [^ ]* (.*),", $info, $m);
          var_dump($m);
          if (isset($m[1])) {
              var_dump(str_replace('\/', '\\', strtolower($m[1])));
          } else {
              echo $info;
          }
          ?>
      - name: Setup PHP
        uses: shivammathur/setup-php@develop
        with:
          php-version: 8.5
      - name: Test
        shell: php {0}
        env:
          OPENSSL_CONF: ''
        run: |
          <?php
          
          ob_start();
          phpinfo();
          $info = ob_get_contents();
          ob_end_clean();
          
          preg_match(",Openssl default config [^ ]* (.*),", $info, $m);
          var_dump($m);
          if (isset($m[1])) {
              var_dump(str_replace('\/', '\\', strtolower($m[1])));
          } else {
              echo $info;
          }
          ?>
